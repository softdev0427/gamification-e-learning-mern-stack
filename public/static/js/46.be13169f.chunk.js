(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[46],{1140:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t(0),l=t.n(r),s=t(272),i=t(906),o=t(910),c=t(280),u=t(37),m=t(17),d=t(4),p=t(907),b=t(79),f=t(912),E=Object(s.a)((function(e){return{root:{},image:{width:"80%",maxHeight:200}}}));var h=function(e){var a=e.className,t=Object(u.a)(e,["className"]),n=E(),r=Object(m.c)((function(e){return e.account})).user;return l.a.createElement("div",Object.assign({className:Object(d.a)(n.root,a)},t),l.a.createElement(p.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(b.a,{variant:"h3",color:"textPrimary"},"Hi,"," ",r.username),l.a.createElement(b.a,{variant:"subtitle1",color:"textPrimary"},"This is admin panel.",l.a.createElement("br",null),"This is user editing page.")),l.a.createElement(f.a,{smDown:!0},l.a.createElement(p.a,{item:!0,md:6},l.a.createElement("img",{alt:"Cover",className:n.image,src:"/static/images/admin/header.jpg"})))))},w=t(30),v=t.n(w),g=t(54),x=t(922),j=t(921),O=t(87),C=t(900),k=t(901),y=t(886),B=t(902),N=t(899),S=t(873),W=t(42),T=t(46),q=t(23),P=t(112),Y=t.n(P),D=Object(s.a)((function(){return{root:{}}}));var I=function(e){var a=e.className,t=e.user,n=Object(u.a)(e,["className","user"]),r=D(),s=Object(O.useSnackbar)().enqueueSnackbar;return l.a.createElement(j.a,{initialValues:{location:t.location||"",username:t.username||"",wallet:t.wallet,password:"",passwordConfirm:""},validationSchema:x.c().shape({username:x.e().max(255).required("Name is required"),location:x.e().max(255).required("Location is required"),wallet:x.b(),password:x.e().min(5,"Must be at least 5 characters").max(255),passwordConfirm:x.e().oneOf([x.d("password"),null],"Passwords must match")}),onSubmit:function(){var e=Object(g.a)(v.a.mark((function e(a,n){var r,l,i,o,c,u,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setErrors,l=n.setStatus,i=n.setSubmitting,e.prev=1,o=a.location,c=a.username,u=a.password,m=a.wallet,e.next=5,W.a.post(T.a+"admin/users/update",{id:t._id,location:o,username:c,wallet:m,password:u}).then((function(e){l({success:!0}),i(!1),s(e.data.message,{variant:"success"})}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),l({success:!1}),r({submit:e.t0.message}),i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var s=e.errors,i=e.handleBlur,c=e.handleChange,u=e.handleSubmit,m=e.isSubmitting,b=e.touched,f=e.values;return l.a.createElement("form",Object.assign({className:Object(d.a)(r.root,a),onSubmit:u},n),l.a.createElement(C.a,null,l.a.createElement(k.a,{title:"Please change this user's profile."}),l.a.createElement(y.a,null),l.a.createElement(B.a,null,l.a.createElement(p.a,{container:!0,spacing:3},l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{error:Boolean(b.username&&s.username),fullWidth:!0,helperText:b.username&&s.username,label:"User name",name:"username",type:"string",onBlur:i,onChange:c,required:!0,value:f.username,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{fullWidth:!0,label:"Email address",name:"email",disabled:!0,value:t.email,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{error:Boolean(b.location&&s.location),fullWidth:!0,helperText:b.location&&s.location,label:"Location",name:"location",type:"string",onBlur:i,onChange:c,value:f.location,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{fullWidth:!0,label:"Role",name:"role",disabled:!0,value:t.role,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{error:Boolean(b.wallet&&s.wallet),fullWidth:!0,helperText:b.wallet&&s.wallet,label:"Funds(VN)",name:"wallet",type:"number",onBlur:i,onChange:c,value:f.wallet,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{fullWidth:!0,label:"created date",name:"createdAt",disabled:!0,value:Y()(t.createdAt).format("YYYY-MM-DD"),variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{error:Boolean(b.password&&s.password),fullWidth:!0,helperText:b.password&&s.password,label:"Password",name:"password",type:"password",onBlur:i,onChange:c,value:f.password,variant:"outlined"})),l.a.createElement(p.a,{item:!0,md:6,xs:12},l.a.createElement(N.a,{error:Boolean(b.passwordConfirm&&s.passwordConfirm),fullWidth:!0,helperText:b.passwordConfirm&&s.passwordConfirm,label:"Password Confirmation",name:"passwordConfirm",onBlur:i,onChange:c,type:"password",value:f.passwordConfirm,variant:"outlined"}))),l.a.createElement(o.a,{mt:2,display:"flex"},l.a.createElement(S.a,{variant:"contained",color:"secondary",component:q.a,to:"/app/adminpanel/users"},"Back"),l.a.createElement(o.a,{flexGrow:1}),l.a.createElement(S.a,{variant:"contained",color:"secondary",type:"submit",disabled:m},"Update")))))}))},M=t(915),A=t(35),H=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=H(),a=Object(M.a)(),t=Object(r.useState)(null),s=Object(n.a)(t,2),u=s[0],m=s[1],d=Object(A.i)(),p=Object(r.useCallback)((function(){W.a.get(T.a+"admin/users/edit/"+d.userId).then((function(e){a.current&&m(e.data.user)}))}),[a,d.userId]);return Object(r.useEffect)((function(){p()}),[p]),u?l.a.createElement(c.a,{className:e.root,title:"Edit user"},l.a.createElement(i.a,{maxWidth:"lg"},l.a.createElement(h,null),l.a.createElement(o.a,{mt:6},l.a.createElement(I,{user:u})))):null}},915:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}}}]);
//# sourceMappingURL=46.be13169f.chunk.js.map