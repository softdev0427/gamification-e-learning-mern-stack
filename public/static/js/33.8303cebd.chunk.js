(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[33],{1121:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t(0),l=t.n(r),c=t(272),s=t(906),u=t(910),i=t(280),o=t(37),m=t(17),g=t(4),E=t(907),d=t(79),f=t(912),b=Object(c.a)((function(e){return{root:{},image:{width:"80%",maxHeight:200}}}));var v=function(e){var a=e.className,t=Object(o.a)(e,["className"]),n=b(),r=Object(m.c)((function(e){return e.account})).user;return l.a.createElement("div",Object.assign({className:Object(g.a)(n.root,a)},t),l.a.createElement(E.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},l.a.createElement(E.a,{item:!0,md:6,xs:12},l.a.createElement(d.a,{variant:"h3",color:"textPrimary"},"Hi,"," ",r.username),l.a.createElement(d.a,{variant:"subtitle1",color:"textPrimary"},"This is admin panel. ",l.a.createElement("br",null),"All courses and assessments are listed below")),l.a.createElement(f.a,{smDown:!0},l.a.createElement(E.a,{item:!0,md:6},l.a.createElement("img",{alt:"Cover",className:n.image,src:"/static/images/admin/header.jpg"})))))},p=t(282),h=t.n(p),O=t(900),j=t(901),y=t(886),w=t(899),k=t(966),P=t(967),S=t(968),C=t(969),N=t(970),x=t(913),A=t(872),M=t(850),L=t(204),Y=t(1145),z=t(935),I=t(112),D=t.n(I),R=t(919),q=t(42),H=t(46),B=t(87),T=[{value:"learners|desc",label:"Learners number (high to low)"},{value:"learners|asc",label:"Learners number (low to high)"},{value:"createdAt|desc",label:"createdAt (new to old)"},{value:"createdAt|asc",label:"createdAt (old to new)"}];function W(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function _(e,a){var t=a.split("|"),r=Object(n.a)(t,2),l=r[0],c=function(e,a){return"desc"===e?function(e,t){return W(e,t,a)}:function(e,t){return-W(e,t,a)}}(r[1],l),s=e.map((function(e,a){return[e,a]}));return s.sort((function(e,a){var t=c(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),s.map((function(e){return e[0]}))}var J=Object(c.a)((function(e){return{root:{},avatar:{height:42,width:42,marginRight:e.spacing(1)}}}));var U=function(e){var a=e.className,t=e.Mycourses,c=Object(o.a)(e,["className","Mycourses"]),s=J(),i=Object(r.useState)(0),m=Object(n.a)(i,2),E=m[0],d=m[1],f=Object(r.useState)(5),b=Object(n.a)(f,2),v=b[0],p=b[1],I=Object(r.useState)(t),W=Object(n.a)(I,2),U=W[0],V=W[1],F=Object(r.useState)(T[0].value),G=Object(n.a)(F,2),K=G[0],Q=G[1],X=Object(B.useSnackbar)().enqueueSnackbar,Z=function(e,a,t){return e.slice(a*t,a*t+t)}(_(U,K),E,v);return l.a.createElement(O.a,Object.assign({className:Object(g.a)(s.root,a)},c),l.a.createElement(j.a,{title:"Courses list"}),l.a.createElement(y.a,null),l.a.createElement(u.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},l.a.createElement(w.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),Q(e.target.value)},select:!0,SelectProps:{native:!0},value:K,variant:"outlined"},T.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement(h.a,null,l.a.createElement(u.a,{minWidth:700},l.a.createElement(k.a,null,l.a.createElement(P.a,null,l.a.createElement(S.a,null,l.a.createElement(C.a,null,"Name"),l.a.createElement(C.a,null,"Learners"),l.a.createElement(C.a,null,"Lecture files"),l.a.createElement(C.a,null,"Reviews"),l.a.createElement(C.a,null,"Lecturer"),l.a.createElement(C.a,null,"CreatedAt"),l.a.createElement(C.a,{align:"right"},"Actions"))),l.a.createElement(N.a,null,Z.map((function(e){return l.a.createElement(S.a,{hover:!0,key:e._id},l.a.createElement(C.a,null,l.a.createElement(u.a,{display:"flex",alignItems:"center"},l.a.createElement(x.a,{className:s.avatar,style:{backgroundColor:"darkgreen"}},Object(R.a)(e.name)),l.a.createElement(A.a,{color:"inherit",variant:"h6"},e.name))),l.a.createElement(C.a,null,e.learners.length,"(learners)"),l.a.createElement(C.a,null,e.origins.length,"(files)"),l.a.createElement(C.a,null,e.review.length,"(reviews)"),l.a.createElement(C.a,null,e.lectName),l.a.createElement(C.a,null,D()(e.createdAt).format("YYYY-MM-DD")),l.a.createElement(C.a,{align:"right"},l.a.createElement(M.a,{onClick:function(a){var t;window.confirm("Are you really want to delete this course?")&&(t=e._id,q.a.get(H.a+"admin/courses/delete/"+t).then((function(e){X(e.data.message,{variant:"success"}),V(e.data.courses)})))}},l.a.createElement(L.a,{fontSize:"small"},l.a.createElement(z.a,null)))))})))))),l.a.createElement(Y.a,{component:"div",count:U.length,onChangePage:function(e,a){d(a)},onChangeRowsPerPage:function(e){p(e.target.value)},page:E,rowsPerPage:v,rowsPerPageOptions:[5,10]}))},V=t(915),F=[{value:"createdAt|asc",label:"createdAt (new to old)"},{value:"createdAt|desc",label:"createdAt (old to new)"}];function G(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function K(e,a){var t=a.split("|"),r=Object(n.a)(t,2),l=r[0],c=function(e,a){return"desc"===e?function(e,t){return G(e,t,a)}:function(e,t){return-G(e,t,a)}}(r[1],l),s=e.map((function(e,a){return[e,a]}));return s.sort((function(e,a){var t=c(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),s.map((function(e){return e[0]}))}var Q=Object(c.a)((function(e){return{root:{},avatar:{height:42,width:42,marginRight:e.spacing(1)}}}));var X=function(e){var a=e.className,t=e.Myassessments,c=Object(o.a)(e,["className","Myassessments"]),s=Q(),i=Object(r.useState)(0),m=Object(n.a)(i,2),E=m[0],d=m[1],f=Object(r.useState)(5),b=Object(n.a)(f,2),v=b[0],p=b[1],I=Object(r.useState)(t),T=Object(n.a)(I,2),W=T[0],_=T[1],J=Object(r.useState)(F[0].value),U=Object(n.a)(J,2),V=U[0],G=U[1],X=Object(B.useSnackbar)().enqueueSnackbar,Z=function(e,a,t){return e.slice(a*t,a*t+t)}(K(W,V),E,v);return l.a.createElement(O.a,Object.assign({className:Object(g.a)(s.root,a)},c),l.a.createElement(j.a,{title:"Assessments list"}),l.a.createElement(y.a,null),l.a.createElement(u.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},l.a.createElement(w.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),G(e.target.value)},select:!0,SelectProps:{native:!0},value:V,variant:"outlined"},F.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement(h.a,null,l.a.createElement(u.a,{minWidth:700},l.a.createElement(k.a,null,l.a.createElement(P.a,null,l.a.createElement(S.a,null,l.a.createElement(C.a,null,"Course Name"),l.a.createElement(C.a,null,"Assessment Name"),l.a.createElement(C.a,null,"lecturer"),l.a.createElement(C.a,null,"Learners"),l.a.createElement(C.a,null,"Dateline"),l.a.createElement(C.a,null,"Mult-choice-question"),l.a.createElement(C.a,{align:"right"},"Actions"))),l.a.createElement(N.a,null,Z.map((function(e){return l.a.createElement(S.a,{hover:!0,key:e._id},l.a.createElement(C.a,null,l.a.createElement(u.a,{display:"flex",alignItems:"center"},l.a.createElement(x.a,{className:s.avatar,style:{backgroundColor:"darkgreen"}},Object(R.a)(e.coursename)),l.a.createElement(A.a,{color:"inherit",variant:"h6"},e.coursename))),l.a.createElement(C.a,null,l.a.createElement(u.a,{display:"flex",alignItems:"center"},l.a.createElement(x.a,{className:s.avatar,style:{backgroundColor:"darkgreen"}},Object(R.a)(e.name)),l.a.createElement(A.a,{color:"inherit",variant:"h6"},e.name))),l.a.createElement(C.a,null,e.lectName),l.a.createElement(C.a,null,e.learners.length,"(learners)"),l.a.createElement(C.a,null,D()(e.dateline).format("YYYY-MM-DD")),l.a.createElement(C.a,null,e.mcquestions.length,"(questions)"),l.a.createElement(C.a,{align:"right"},l.a.createElement(M.a,{onClick:function(a){var t;window.confirm("Are you really want to delete this assessment?")&&(t=e._id,q.a.get(H.a+"admin/assessments/delete/"+t).then((function(e){e.data.success?(X(e.data.message,{variant:"success"}),_(e.data.assessments)):(X(e.data.message,{variant:"error"}),_(e.data.assessments))})))}},l.a.createElement(L.a,{fontSize:"small"},l.a.createElement(z.a,null)))))})))))),l.a.createElement(Y.a,{component:"div",count:W.length,onChangePage:function(e,a){d(a)},onChangeRowsPerPage:function(e){p(e.target.value)},page:E,rowsPerPage:v,rowsPerPageOptions:[5,10]}))},Z=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=Z(),a=Object(V.a)(),t=Object(r.useState)(null),c=Object(n.a)(t,2),o=c[0],m=c[1],g=Object(r.useState)(null),E=Object(n.a)(g,2),d=E[0],f=E[1],b=Object(r.useCallback)((function(){q.a.get(H.a+"admin/courses/list").then((function(e){a.current&&(m(e.data.courses),f(e.data.assessments))}))}),[a]);return Object(r.useEffect)((function(){b()}),[b]),o&&d?l.a.createElement(i.a,{className:e.root,title:"Courses and assessments edit"},l.a.createElement(s.a,{maxWidth:"lg"},l.a.createElement(v,null),l.a.createElement(u.a,{mt:6},l.a.createElement(U,{Mycourses:o})),l.a.createElement(u.a,{mt:6},l.a.createElement(X,{Myassessments:d})))):null}},915:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},919:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},935:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(2),c=t.n(l);function s(){return(s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=function(e){var a=e.color,t=e.size,n=u(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),r.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}))};i.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},i.defaultProps={color:"currentColor",size:"24"},a.a=i}}]);
//# sourceMappingURL=33.8303cebd.chunk.js.map