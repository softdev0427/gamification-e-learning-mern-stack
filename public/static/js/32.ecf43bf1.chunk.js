(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[32],{1108:function(a,e,t){"use strict";t.r(e);var n=t(25),r=t(0),c=t.n(r),s=t(272),o=t(906),i=t(910),l=t(1110),m=t(1097),u=t(886),v=t(280),d=t(37),p=t(23),g=t(4),f=t(918),b=t(872),h=t(79),E=t(916),j=t.n(E),x=Object(s.a)((function(){return{root:{}}}));var y=function(a){var e=a.className,t=Object(d.a)(a,["className"]),n=x();return c.a.createElement("div",Object.assign({className:Object(g.a)(n.root,e)},t),c.a.createElement(f.a,{separator:c.a.createElement(j.a,{fontSize:"small"}),"aria-label":"breadcrumb"},c.a.createElement(b.a,{color:"inherit",to:"/app",component:p.a},"Dashboard"),c.a.createElement(h.a,{color:"textPrimary"},"Account")),c.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Settings"))},w=t(30),O=t.n(w),S=t(54),C=t(17),k=t(907),N=t(902),z=t(913),B=t(901),_=t(873),Q=t(42),A=t(46),P=t(87),T=t(40),q=t(64),I=t(112),L=t.n(I),M=Object(s.a)((function(a){return{root:{backgroundColor:a.palette.background.default},name:{marginTop:a.spacing(1)},avatar:{height:100,width:100,margin:"15px",marginTop:"30px",marginBottom:"2px"},avatarSelect:{border:"solid 6px lightgreen",height:100,width:100,margin:"15px",marginTop:"30px",marginBottom:"2px"},tet:{color:a.palette.primary.main},coin:{textAlign:"center"}}}));var W=function(a){var e=a.className,t=Object(d.a)(a,["className"]),s=M(),o=Object(C.c)((function(a){return a.account})).user,l=Object(r.useState)(null),m=Object(n.a)(l,2),v=m[0],p=m[1],f=Object(C.b)(),b=Object(P.useSnackbar)().enqueueSnackbar,E=[{num:1,avt:"/static/images/avatars/a1.jpg",vn:600},{num:2,avt:"/static/images/avatars/a2.jpg",vn:700},{num:3,avt:"/static/images/avatars/a3.jpg",vn:800},{num:4,avt:"/static/images/avatars/a4.jpg",vn:1e3},{num:5,avt:"/static/images/avatars/a5.jpg",vn:1e3},{num:6,avt:"/static/images/avatars/a6.jpg",vn:1500},{num:7,avt:"/static/images/avatars/a7.jpg",vn:1500},{num:8,avt:"/static/images/avatars/a9.jpg",vn:2e3},{num:9,avt:"/static/images/avatars/a10.jpg",vn:2e3},{num:10,avt:"/static/images/avatars/a11.jpg",vn:2e3},{num:11,avt:"/static/images/avatars/a12.jpg",vn:3e3},{num:12,avt:"/static/images/avatars/a14.jpg",vn:3e3},{num:13,avt:"/static/images/avatars/a15.jpg",vn:4e3},{num:14,avt:"/static/images/avatars/a16.jpg",vn:4e3},{num:15,avt:"/static/images/avatars/a17.jpg",vn:5e3},{num:16,avt:"/static/images/avatars/a18.jpg",vn:5e3},{num:17,avt:"/static/images/avatars/a19.jpg",vn:6e3},{num:18,avt:"/static/images/avatars/a20.jpg",vn:6e3}];return c.a.createElement(k.a,Object.assign({className:Object(g.a)(s.root,e)},t,{spacing:3,container:!0,display:"inline"}),c.a.createElement(k.a,{item:!0,lg:4,md:6,xl:3,xs:12},c.a.createElement(N.a,null,c.a.createElement(i.a,{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"},c.a.createElement(z.a,{className:s.avatar,src:v?E[v-1].avt:o.avatar}),c.a.createElement(h.a,{className:s.name,gutterBottom:!0,variant:"h2",color:"textPrimary"},"".concat(o.username)),c.a.createElement(i.a,{style:{paddingLeft:"5%"},alignItems:"left",textAlign:"left"},c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"email : \xa0 \xa0\xa0\xa0 \xa0 \xa0 \xa0 ","".concat(o.email)),c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"location:\xa0 \xa0 \xa0\xa0\xa0 \xa0 ","".concat(o.location)),c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"role:\xa0  \xa0\xa0\xa0\xa0\xa0\xa0 \xa0 \xa0\xa0\xa0\xa0","".concat(o.role)),c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"wallet:\xa0 \xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 ","".concat(o.wallet)),c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"total spending:\xa0\xa0 ","".concat(o.totalSpending)),c.a.createElement(h.a,{color:"textSecondary",variant:"h4"},"registered:\xa0\xa0\xa0  ",L()(o.createdAt).format("YYYY-MM-DD")))))),c.a.createElement(k.a,{item:!0,lg:8,md:6,xl:9,xs:12},c.a.createElement(B.a,{className:s.tet,title:"Avatars"}),c.a.createElement(u.a,null),c.a.createElement(k.a,{container:!0},E.map((function(a){return c.a.createElement(k.a,{item:!0,key:a.num},c.a.createElement(z.a,{className:v===a.num?s.avatarSelect:s.avatar,src:a.avt,onClick:function(e){p(a.num)}}),c.a.createElement(h.a,{className:s.coin,color:"textPrimary",variant:"body1"},"VN ",a.vn))}))),c.a.createElement(u.a,null),c.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},c.a.createElement(_.a,{color:"secondary",type:"submit",variant:"contained",onClick:function(a){v?o.wallet<E[v-1].vn?b("Sorry! Your funds are insufficient.",{variant:"error"}):Q.a.post(A.a+"account/profile/updateAvartar",{id:o._id,avatar:E[v-1].avt,wallet:E[v-1].vn}).then(function(){var a=Object(S.a)(O.a.mark((function a(e){var t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q.a.loginInWithToken();case 2:return t=a.sent,a.next=5,f(Object(T.i)(t));case 5:b(e.data.message,{variant:"success"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):b("Please choose one to change your avatar",{variant:"error"})}},"Save Changes"),c.a.createElement(_.a,{style:{marginLeft:"15px"},color:"secondary",type:"submit",variant:"contained",onClick:function(a){return p(null)}},"Cancel"))))},R=Object(s.a)((function(a){return{root:{backgroundColor:a.palette.background.default},name:{marginTop:a.spacing(1)},avatar:{height:100,width:100,margin:"15px",marginTop:"30px",marginBottom:"2px"},avatarSelect:{border:"solid 6px lightgreen",height:100,width:100,margin:"15px",marginTop:"30px",marginBottom:"2px"},tet:{color:a.palette.primary.main},coin:{textAlign:"center"}}}));var D=function(a){var e=a.className,t=Object(d.a)(a,["className"]),s=R(),o=Object(C.c)((function(a){return a.account})).user,l=Object(r.useState)(null),m=Object(n.a)(l,2),v=m[0],p=m[1],f=Object(C.b)(),b=Object(P.useSnackbar)().enqueueSnackbar,E=[{num:1,avt:"/static/images/moonQuiz/avatar/1_2.jpg",vn:200},{num:2,avt:"/static/images/moonQuiz/avatar/1_3.jpg",vn:300},{num:3,avt:"/static/images/moonQuiz/avatar/1_4.jpg",vn:400},{num:4,avt:"/static/images/moonQuiz/avatar/1_5.jpg",vn:500},{num:5,avt:"/static/images/moonQuiz/avatar/1_6.jpg",vn:600},{num:6,avt:"/static/images/moonQuiz/avatar/1_7.jpg",vn:700},{num:7,avt:"/static/images/moonQuiz/avatar/1_9.jpg",vn:800},{num:8,avt:"/static/images/moonQuiz/avatar/1_10.jpg",vn:900},{num:9,avt:"/static/images/moonQuiz/avatar/1_11.jpg",vn:1e3},{num:10,avt:"/static/images/moonQuiz/avatar/1_12.jpg",vn:1500},{num:11,avt:"/static/images/moonQuiz/avatar/1_13.jpg",vn:2e3},{num:12,avt:"/static/images/moonQuiz/avatar/1_14.jpg",vn:2500},{num:13,avt:"/static/images/moonQuiz/avatar/1_15.jpg",vn:3e3},{num:14,avt:"/static/images/moonQuiz/avatar/1_16.jpg",vn:3500},{num:15,avt:"/static/images/moonQuiz/avatar/1_17.jpg",vn:4e3},{num:16,avt:"/static/images/moonQuiz/avatar/1_18.jpg",vn:4500},{num:17,avt:"/static/images/moonQuiz/avatar/1_19.jpg",vn:5e3},{num:18,avt:"/static/images/moonQuiz/avatar/1_20.jpg",vn:6e3}];return c.a.createElement(k.a,Object.assign({className:Object(g.a)(s.root,e)},t,{spacing:3,container:!0,display:"inline"}),c.a.createElement(k.a,{item:!0,lg:4,md:6,xl:3,xs:12},c.a.createElement(N.a,null,c.a.createElement(i.a,{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"},c.a.createElement(z.a,{className:s.avatar,src:v?E[v-1].avt:o.shuttle}),c.a.createElement(h.a,{className:s.name,gutterBottom:!0,variant:"h2",color:"textPrimary"},"My shuttle")))),c.a.createElement(k.a,{item:!0,lg:8,md:6,xl:9,xs:12},c.a.createElement(B.a,{className:s.tet,title:"Avatars"}),c.a.createElement(u.a,null),c.a.createElement(k.a,{container:!0},E.map((function(a){return c.a.createElement(k.a,{item:!0,key:a.num},c.a.createElement(z.a,{className:v===a.num?s.avatarSelect:s.avatar,src:a.avt,onClick:function(e){p(a.num)}}),c.a.createElement(h.a,{className:s.coin,color:"textPrimary",variant:"body1"},"VN ",a.vn))}))),c.a.createElement(u.a,null),c.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},c.a.createElement(_.a,{color:"secondary",type:"submit",variant:"contained",onClick:function(a){v?o.wallet<E[v-1].vn?b("Sorry! Your funds are insufficient.",{variant:"error"}):Q.a.post(A.a+"account/profile/updateSuttle",{id:o._id,shuttle:E[v-1].avt,wallet:E[v-1].vn}).then(function(){var a=Object(S.a)(O.a.mark((function a(e){var t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q.a.loginInWithToken();case 2:return t=a.sent,a.next=5,f(Object(T.i)(t));case 5:b(e.data.message,{variant:"success"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):b("Please choose one to change your avatar",{variant:"error"})}},"Save Changes"),c.a.createElement(_.a,{style:{marginLeft:"15px"},color:"secondary",type:"submit",variant:"contained",onClick:function(a){return p(null)}},"Default"))))},Y=t(922),V=t(921),H=t(900),J=t(899),K=t(856),U=Object(s.a)((function(){return{root:{}}}));var F=function(a){var e=a.className,t=Object(d.a)(a,["className"]),n=U(),r=Object(P.useSnackbar)().enqueueSnackbar,s=Object(C.c)((function(a){return a.account})).user;return c.a.createElement(V.a,{initialValues:{currentpassword:"",password:"",passwordConfirm:""},validationSchema:Y.c().shape({currentpassword:Y.e().min(5,"Must be at least 5 characters").max(255).required("Required"),password:Y.e().min(5,"Must be at least 5 characters").max(255).required("Required"),passwordConfirm:Y.e().oneOf([Y.d("password"),null],"Passwords must match").required("Required")}),onSubmit:function(){var a=Object(S.a)(O.a.mark((function a(e,t){var n,c,o,i,l,m;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.resetForm,c=t.setErrors,o=t.setStatus,i=t.setSubmitting,a.prev=1,l=e.currentpassword,m=e.password,a.next=5,Q.a.post(A.a+"account/profile/password",{id:s._id,currentpassword:l,password:m}).then((function(a){o({success:!0}),i(!1),a.data.success?(r(a.data.message,{variant:"success"}),n()):r(a.data.message,{variant:"error"})}));case 5:a.next=12;break;case 7:a.prev=7,a.t0=a.catch(1),o({success:!1}),c({submit:a.t0.message}),i(!1);case 12:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e,t){return a.apply(this,arguments)}}()},(function(a){var r=a.errors,s=a.handleBlur,o=a.handleChange,l=a.handleSubmit,m=a.isSubmitting,v=a.touched,d=a.values;return c.a.createElement("form",{onSubmit:l},c.a.createElement(H.a,Object.assign({className:Object(g.a)(n.root,e)},t),c.a.createElement(B.a,{title:"Change Password"}),c.a.createElement(u.a,null),c.a.createElement(N.a,null,c.a.createElement(k.a,{container:!0,spacing:3},c.a.createElement(k.a,{item:!0,md:4,sm:6,xs:12},c.a.createElement(J.a,{error:Boolean(v.currentpassword&&r.currentpassword),fullWidth:!0,helperText:v.currentpassword&&r.currentpassword,label:"currentPassword",name:"currentpassword",onBlur:s,onChange:o,type:"password",value:d.currentpassword,variant:"outlined"})),c.a.createElement(k.a,{item:!0,md:4,sm:6,xs:12},c.a.createElement(J.a,{error:Boolean(v.password&&r.password),fullWidth:!0,helperText:v.password&&r.password,label:"Password",name:"password",onBlur:s,onChange:o,type:"password",value:d.password,variant:"outlined"})),c.a.createElement(k.a,{item:!0,md:4,sm:6,xs:12},c.a.createElement(J.a,{error:Boolean(v.passwordConfirm&&r.passwordConfirm),fullWidth:!0,helperText:v.passwordConfirm&&r.passwordConfirm,label:"Password Confirmation",name:"passwordConfirm",onBlur:s,onChange:o,type:"password",value:d.passwordConfirm,variant:"outlined"}))),r.submit&&c.a.createElement(i.a,{mt:3},c.a.createElement(K.a,{error:!0},r.submit))),c.a.createElement(u.a,null),c.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},c.a.createElement(_.a,{color:"secondary",disabled:m,type:"submit",variant:"contained"},"Change Password"))))}))},G=Object(s.a)((function(){return{root:{}}}));var X=function(a){var e=a.className,t=Object(d.a)(a,["className"]),n=G(),r=Object(P.useSnackbar)().enqueueSnackbar,s=Object(C.b)(),o=Object(C.c)((function(a){return a.account})).user;return c.a.createElement(V.a,{initialValues:{location:o.location||"",username:o.username||""},validationSchema:Y.c().shape({username:Y.e().max(255).required("Name is required"),location:Y.e().max(255).required("Location is required")}),onSubmit:function(){var a=Object(S.a)(O.a.mark((function a(e,t){var n,c,i,l,m,u;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.setErrors,c=t.setStatus,i=t.setSubmitting,a.prev=1,l=e.location,m=e.username,a.next=5,Q.a.post(A.a+"account/profile/updatename",{id:o._id,location:l,username:m}).then((function(a){c({success:!0}),i(!1),r(a.data.message,{variant:"success"})}));case 5:return a.next=7,q.a.loginInWithToken();case 7:return u=a.sent,a.next=10,s(Object(T.i)(u));case 10:a.next=17;break;case 12:a.prev=12,a.t0=a.catch(1),c({success:!1}),n({submit:a.t0.message}),i(!1);case 17:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},(function(a){var r=a.errors,s=a.handleBlur,l=a.handleChange,m=a.handleSubmit,u=a.isSubmitting,v=a.touched,d=a.values;return c.a.createElement("form",Object.assign({className:Object(g.a)(n.root,e),onSubmit:m},t),c.a.createElement(H.a,null,c.a.createElement(N.a,null,c.a.createElement(k.a,{container:!0,spacing:3},c.a.createElement(k.a,{item:!0,md:6,xs:12},c.a.createElement(J.a,{error:Boolean(v.username&&r.username),fullWidth:!0,helperText:v.username&&r.username,label:"User name",name:"username",onBlur:s,onChange:l,required:!0,value:d.username,variant:"outlined"})),c.a.createElement(k.a,{item:!0,md:6,xs:12},c.a.createElement(J.a,{fullWidth:!0,label:"Email address",name:"email",disabled:!0,value:o.email,variant:"outlined"})),c.a.createElement(k.a,{item:!0,md:6,xs:12},c.a.createElement(J.a,{error:Boolean(v.location&&r.location),fullWidth:!0,helperText:v.location&&r.location,label:"Location",name:"location",onBlur:s,onChange:l,value:d.location,variant:"outlined"})),c.a.createElement(k.a,{item:!0,md:6,xs:12},c.a.createElement(J.a,{fullWidth:!0,label:"Role",name:"role",disabled:!0,value:o.role,variant:"outlined"}))),c.a.createElement(i.a,{mt:2},c.a.createElement(_.a,{variant:"contained",color:"secondary",type:"submit",disabled:u},"Update")))))}))},Z=Object(s.a)((function(a){return{root:{backgroundColor:a.palette.background.dark,minHeight:"100%",paddingTop:a.spacing(3),paddingBottom:a.spacing(3)}}}));e.default=function(){var a=Z(),e=Object(r.useState)("Image"),t=Object(n.a)(e,2),s=t[0],d=t[1];return c.a.createElement(v.a,{className:a.root,title:"Settings"},c.a.createElement(o.a,{maxWidth:"lg"},c.a.createElement(y,null),c.a.createElement(i.a,{mt:3},c.a.createElement(l.a,{onChange:function(a,e){d(e)},scrollButtons:"auto",value:s,variant:"scrollable",textColor:"secondary",className:a.tabs},[{value:"Image",label:"Image/Avatar setting"},{value:"profile",label:"Account/Info"},{value:"password",label:"Password setting"},{value:"shuttle",label:"Shuttle setting"}].map((function(a){return c.a.createElement(m.a,{key:a.value,label:a.label,value:a.value})})))),c.a.createElement(u.a,null),c.a.createElement(i.a,{mt:3},"Image"===s&&c.a.createElement(W,null),"shuttle"===s&&c.a.createElement(D,null),"profile"===s&&c.a.createElement(X,null),"password"===s&&c.a.createElement(F,null))))}},916:function(a,e,t){"use strict";var n=t(213);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(t(0)),c=(0,n(t(281)).default)(r.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");e.default=c},918:function(a,e,t){"use strict";var n=t(1),r=t(47),c=t(3),s=t(0),o=(t(86),t(2),t(4)),i=t(6),l=t(79),m=t(12),u=t(162),v=Object(u.a)(s.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),d=t(279);var p=Object(i.a)((function(a){return{root:{display:"flex",marginLeft:a.spacing(.5),marginRight:a.spacing(.5),backgroundColor:a.palette.grey[100],color:a.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:a.palette.grey[200]},"&:active":{boxShadow:a.shadows[0],backgroundColor:Object(m.c)(a.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(a){var e=a.classes,t=Object(c.a)(a,["classes"]);return s.createElement(d.a,Object(n.a)({component:"li",className:e.root,focusRipple:!0},t),s.createElement(v,{className:e.icon}))}));var g=s.forwardRef((function(a,e){var t=a.children,i=a.classes,m=a.className,u=a.component,v=void 0===u?"nav":u,d=a.expandText,g=void 0===d?"Show path":d,f=a.itemsAfterCollapse,b=void 0===f?1:f,h=a.itemsBeforeCollapse,E=void 0===h?1:h,j=a.maxItems,x=void 0===j?8:j,y=a.separator,w=void 0===y?"/":y,O=Object(c.a)(a,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),S=s.useState(!1),C=S[0],k=S[1],N=s.Children.toArray(t).filter((function(a){return s.isValidElement(a)})).map((function(a,e){return s.createElement("li",{className:i.li,key:"child-".concat(e)},a)}));return s.createElement(l.a,Object(n.a)({ref:e,component:v,color:"textSecondary",className:Object(o.a)(i.root,m)},O),s.createElement("ol",{className:i.ol},function(a,e,t){return a.reduce((function(n,r,c){return c<a.length-1?n=n.concat(r,s.createElement("li",{"aria-hidden":!0,key:"separator-".concat(c),className:e},t)):n.push(r),n}),[])}(C||x&&N.length<=x?N:function(a){return E+b>=a.length?a:[].concat(Object(r.a)(a.slice(0,E)),[s.createElement(p,{"aria-label":g,key:"ellipsis",onClick:function(){k(!0)}})],Object(r.a)(a.slice(a.length-b,a.length)))}(N),i.separator,w)))}));e.a=Object(i.a)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(g)},975:function(a,e,t){"use strict";var n=t(0),r=t(162);e.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},976:function(a,e,t){"use strict";var n=t(0),r=t(162);e.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);
//# sourceMappingURL=32.ecf43bf1.chunk.js.map